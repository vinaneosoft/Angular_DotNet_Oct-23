<section [ngStyle]="{border:'2px double blue'}">
    <h3 [ngStyle]="h3StyleObject">{{headingFromChild}}</h3>
    <div class="row">
        <div class="col-md-2" *ngFor="let account of accounts">
                <app-account-card [bankAccount]="account"  (eventEmitter)="fromChild($event)"></app-account-card>
        </div>
    </div>
    <section class="m-5 border border-3 border-primary">
        <h3 class="bg-success text-center">ACCOUNT INPUT FORM</h3>
        <form class="m-3" [formGroup]="accountInputForm" (submit)="collectAcountDetails()">
            <div class="mb-3">
              <label for="accno" class="form-label">Account Number</label>
              <input type="number" class="form-control" id="accno" formControlName="accNum">
              <div *ngIf="accNum?.touched" class="text-danger">
                <i *ngIf="accNum?.hasError('required')"><small>This field is required</small></i>
              </div>
            </div>
            <div class="mb-3">
              <label for="custid" class="form-label">Customer ID</label>
              <input type="number" class="form-control" id="custid" formControlName="custId">
              <div *ngIf="custId?.touched" class="text-danger">
                <i *ngIf="custId?.hasError('required')"><small>This field is required</small></i>
              </div>
            </div>
            <div class="mb-3">
                <label for="custname" class="form-label">Customer Name</label>
                <input type="text" class="form-control" id="custname" formControlName="custName">
                <div *ngIf="custName?.touched" class="text-danger">
                    <i *ngIf="custName?.hasError('required')"><small>This field is required</small></i>
                  </div>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email Id</label>
                <input type="email" class="form-control" id="email" formControlName="custEmail">
                <div *ngIf="custEmail?.touched" class="text-danger">
                    <i *ngIf="custEmail?.hasError('required')"><small>This field is required</small></i>
                    <i *ngIf="custEmail?.hasError('email')"><small>Please enter valid email id</small></i>
                </div>
            </div>
            <div class="mb-3">
                <label for="bal" class="form-label">Current Balance</label>
                <input type="number" class="form-control" id="bal" formControlName="accBalance">
                <div id="balanceHelp" class="form-text">Do not put 5 crore or more while creating new account. You may deposit later</div>
                <div *ngIf="accBalance?.touched" class="text-danger">
                    <i *ngIf="accBalance?.hasError('required')"><small>This field is required</small></i>
                    <i *ngIf="accBalance?.hasError('min')"><small>Please add min 1000 rs as balance</small></i>
                    <i *ngIf="accBalance?.hasError('max')"><small>Not allowed to add 5 crore or more for new account initially</small></i>
                </div>
            </div>
            <div class="mb-3">
                <label for="acctype" class="form-label">Type of Account</label>   
                <select id="acctype" formControlName="accType">
                    <option value="savings">SAVINGS</option>
                    <option value="salary">SALARY</option>
                    <option value="current">CURRENT</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="accdate" class="form-label">Account Created On</label>
                <input type="datetime-local" class="form-control" id="accdate" formControlName="accountDate">
            </div>
            <div class="mb-3">
                <label for="pass" class="form-label">Set Password</label>
                <input type="text" class="form-control" id="pass" formControlName="custPass">
                <div id="passHelp" class="form-text">
                    Password must contain atleast one capital letter, small letter, number, special character().
                    Password must be 4 to 9 characters long
                </div>
                <div *ngIf="custPass?.touched" class="text-danger">
                    <i *ngIf="custPass?.hasError('required')"><small>This field is required</small></i>
                    <i *ngIf="custPass?.hasError('pattern')"><small>Password must match requirements</small></i>
                </div>
            </div>
            <div class="mb-3">
                <label for="cpass" class="form-label">Confirm Password</label>
                <input type="password" class="form-control" id="cpass" formControlName="confirmPass">

                <div *ngIf="confirmPass?.touched" class="text-danger">
                    <i *ngIf="confirmPass?.hasError('required')"><small>This field is required</small></i>
                  </div>
            </div>
            <div class="mb-3">
                <label for="pic" class="form-label">Profile Pic</label>
                <input type="file" class="form-control" id="pic" formControlName="profilePic">
            </div>
            <input type="submit" class="btn btn-primary m-2" value="CREATE ACCOUNT" [disabled]="accountInputForm.invalid">
            <input type="reset" class="btn btn-primary m-2" value="RESET">
          </form>
    </section>

    <table [ngClass]="tableClassArray">
        <thead [ngClass]="theadClassObject">
            <tr>
                <th (click)="orderBy('accNum')">ACCOUNT NUMBER</th> <!-- view+development-->
                <th (click)="orderBy('custId')">CUSTOMER ID</th>
                <th (click)="orderBy('custName')">CUSTOMER NAME</th>
                <th (click)="orderBy('accBalance')">BALANCE</th>
                <th (click)="orderBy('accType')">ACCOUNT TYPE</th>
                <th (click)="orderBy('accountDate')">ACCOUNT CREATED ON</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let account of accounts | orderby : orderProperty">
                <td>{{account.accNum}}</td>
                <td>{{account.custId}}</td>
                <td>{{account.custName}}</td>
                <td>{{account.accBalance}}</td>
                <td>{{account.accType}}</td>
                <td>{{account.accountDate | date: 'medium'}}</td>
            </tr>
        </tbody>
    </table>
    <table [ngClass]="tableClassArray">
        <thead [ngClass]="theadClassObject">
            <tr>
                <th>ACCOUNT NUMBER</th> <!-- view+development-->
                <th>CUSTOMER ID</th>
                <th>CUSTOMER NAME</th>
                <th>CUSTOMER NAME</th>
                <th>BALANCE</th>
                <th>BALANCE</th>
                <th>BALANCE</th>
                <th>BALANCE</th>
                <th>ACCOUNT TYPE</th>
                <th>ACCOUNT CREATED ON</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let account of accounts">
                <td>{{account.accNum}}</td>
                <td>{{account.custId}}</td>
                <td>{{account.custName | titlecase}}</td>
                <td>{{account.custName | slice : 0 : 5}}</td>
                <td>{{account.accBalance | number}}</td> <!-- thousand seperator, number rounded up to 3 dec digits-->
                <td>{{account.accBalance | number : '5.0-0'}}</td> <!-- '.2-2' '.2-4'-->
                <td>{{account.accBalance | currency}}</td><!-- thousand seperator, $ currency, number rounded to exact 2 deci digits-->
                <td>{{account.accBalance | currency : 'INR':true:'.1-1'}}</td> <!-- symbol: true, code: false-->
                <td>{{account.accType | uppercase }}</td>
                <td>{{account.accountDate | date}}</td>
            </tr>
        </tbody>
    </table>
    <table [ngClass]="tableClassArray">
        <thead [ngClass]="theadClassObject">
            <tr>
                <th>ACCOUNT CREATED ON</th> <!-- view+development-->
                <th>ACCOUNT CREATED ON</th>
                <th>ACCOUNT CREATED ON</th>
                <th>ACCOUNT CREATED ON</th>
                <th>ACCOUNT CREATED ON</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let account of accounts">
                <td>{{account.accountDate | date : 'short'}}</td>
                <td>{{account.accountDate | date : 'medium'}}</td>
                <td>{{account.accountDate | date : 'long'}}</td>
                <td>{{account.accountDate | date : 'full'}}</td>
                <td>{{account.accountDate | date : 'dd-MMMM-yyyy'}}</td>
            </tr>
        </tbody>
    </table>
</section>

